
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Red</title>
<meta name="description" content="Documentation of Coq module Red" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Red</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Arith.html">Arith</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Freevar.html">Freevar</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Misc.html">Misc</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.micromega.Psatz.html">Psatz</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Star.html">Star</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Logic.Eqdep_dec.html">Coq.Logic.Eqdep_dec</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="FEnv.html">FEnv</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="STerm.html">STerm</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Pretty.html">Pretty</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="kwd">Inductive</span>.<br/>
<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="nfval">nfval</a></span> :=<br/>
| <span class="id"><a name="nvar">nvar</a></span> : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id">nfval</span><br/>
| <span class="id"><a name="napp">napp</a></span> : <span class="id">nfval</span> -&gt; <span class="id">nfval_or_lam</span> -&gt; <span class="id">nfval</span><br/>
| <span class="id"><a name="nswitch">nswitch</a></span> : <span class="id">nfval</span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> * <span class="id">nfval_or_lam</span>) -&gt; <span class="id">nfval</span><br/>
<br/>
<span class="kwd">with</span> <span class="id"><a name="nfval_or_lam">nfval_or_lam</a></span> :=<br/>
| <span class="id"><a name="nval">nval</a></span> : <span class="id">nfval</span> -&gt; <span class="id">nfval_or_lam</span><br/>
| <span class="id"><a name="nlam">nlam</a></span> : <span class="id">nfval_or_lam</span> -&gt; <span class="id">nfval_or_lam</span><br/>
| <span class="id"><a name="nconstr">nconstr</a></span> : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id">nfval_or_lam</span> -&gt; <span class="id">nfval_or_lam</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="val">val</a></span> : <span class="id"><a href="Misc.html#deep_flag">deep_flag</a></span> -&gt; <span class="kwd">Type</span> :=<br/>
| <span class="id"><a name="vals_nf">vals_nf</a></span> : <span class="id"><a href="Red.html#nfval">nfval</a></span> -&gt; <span class="id">val</span> <span class="id"><a href="Misc.html#shallow">shallow</a></span><br/>
| <span class="id"><a name="vals_abs">vals_abs</a></span> : <span class="id"><a href="STerm.html#term">term</a></span> -&gt; <span class="id">val</span> <span class="id"><a href="Misc.html#shallow">shallow</a></span><br/>
| <span class="id"><a name="vals_constr">vals_constr</a></span> : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="STerm.html#term">term</a></span> -&gt; <span class="id">val</span> <span class="id"><a href="Misc.html#shallow">shallow</a></span><br/>
| <span class="id"><a name="vald_nf">vald_nf</a></span> : <span class="id"><a href="Red.html#nfval_or_lam">nfval_or_lam</a></span> -&gt; <span class="id">val</span> <span class="id"><a href="Misc.html#deep">deep</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="val_nf">val_nf</a></span> {<span class="id">df</span>} <span class="id">v</span> : <span class="id"><a href="Red.html#val">val</a></span> <span class="id">df</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">df</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Misc.html#shallow">shallow</a></span> =&gt; <span class="id"><a href="Red.html#vals_nf">vals_nf</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Misc.html#deep">deep</a></span> =&gt; <span class="id"><a href="Red.html#vald_nf">vald_nf</a></span> (<span class="id"><a href="Red.html#nval">nval</a></span> <span class="id">v</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="ext">ext</a></span> : <span class="id"><a href="Misc.html#deep_flag">deep_flag</a></span> -&gt; <span class="kwd">Type</span> :=<br/>
| <span class="id"><a name="ext_term">ext_term</a></span> : <span class="kwd">forall</span> <span class="id">df</span>, <span class="id"><a href="STerm.html#term">term</a></span> -&gt; <span class="id">ext</span> <span class="id">df</span><br/>
| <span class="id"><a name="ext_app">ext_app</a></span> : <span class="kwd">forall</span> <span class="id">df</span>, <span class="id"><a href="Pretty.html#out">out</a></span> (<span class="id"><a href="Red.html#val">val</a></span> <span class="id"><a href="Misc.html#shallow">shallow</a></span>) -&gt; <span class="id"><a href="STerm.html#term">term</a></span> -&gt; <span class="id">ext</span> <span class="id">df</span><br/>
| <span class="id"><a name="ext_appnf">ext_appnf</a></span> : <span class="kwd">forall</span> <span class="id">df</span>, <span class="id"><a href="Red.html#nfval">nfval</a></span> -&gt; <span class="id"><a href="Pretty.html#out">out</a></span> (<span class="id"><a href="Red.html#val">val</a></span> <span class="id"><a href="Misc.html#deep">deep</a></span>) -&gt; <span class="id">ext</span> <span class="id">df</span><br/>
| <span class="id"><a name="ext_switch">ext_switch</a></span> : <span class="kwd">forall</span> <span class="id">df</span>, <span class="id"><a href="Pretty.html#out">out</a></span> (<span class="id"><a href="Red.html#val">val</a></span> <span class="id"><a href="Misc.html#shallow">shallow</a></span>) -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> * <span class="id"><a href="STerm.html#term">term</a></span>) -&gt; <span class="id">ext</span> <span class="id">df</span><br/>
| <span class="id"><a name="ext_switchnf">ext_switchnf</a></span> : <span class="kwd">forall</span> <span class="id">df</span>, <span class="id"><a href="Red.html#nfval">nfval</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> * <span class="id"><a href="Red.html#nfval_or_lam">nfval_or_lam</a></span>) -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> * <span class="id"><a href="Pretty.html#out">out</a></span> (<span class="id"><a href="Red.html#val">val</a></span> <span class="id"><a href="Misc.html#deep">deep</a></span>)) -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> * <span class="id"><a href="STerm.html#term">term</a></span>) -&gt; <span class="id">ext</span> <span class="id">df</span><br/>
| <span class="id"><a name="extd_abs">extd_abs</a></span> : <span class="id"><a href="Pretty.html#out">out</a></span> (<span class="id"><a href="Red.html#val">val</a></span> <span class="id"><a href="Misc.html#deep">deep</a></span>) -&gt; <span class="id">ext</span> <span class="id"><a href="Misc.html#deep">deep</a></span><br/>
| <span class="id"><a name="extd_constr">extd_constr</a></span> : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Red.html#nfval_or_lam">nfval_or_lam</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="Pretty.html#out">out</a></span> (<span class="id"><a href="Red.html#val">val</a></span> <span class="id"><a href="Misc.html#deep">deep</a></span>)) -&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="STerm.html#term">term</a></span> -&gt; <span class="id">ext</span> <span class="id"><a href="Misc.html#deep">deep</a></span>.<br/>
<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="Red.html#ext_term">ext_term</a></span> {<span class="id">df</span>} <span class="id">_</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="Red.html#ext_app">ext_app</a></span> {<span class="id">df</span>} <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="Red.html#ext_appnf">ext_appnf</a></span> {<span class="id">df</span>} <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="Red.html#ext_switch">ext_switch</a></span> {<span class="id">df</span>} <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="Red.html#ext_switchnf">ext_switchnf</a></span> {<span class="id">df</span>} <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="get_abort">get_abort</a></span> {<span class="id">df</span> <span class="id">t</span>} (<span class="id">e</span> : <span class="id"><a href="Red.html#ext">ext</a></span> <span class="id">df</span>) : <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="Pretty.html#out">out</a></span> <span class="id">t</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">e</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Red.html#ext_term">ext_term</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Red.html#ext_app">ext_app</a></span> <span class="id">o</span> <span class="id">_</span> =&gt; <span class="id"><a href="Pretty.html#get_out_abort">get_out_abort</a></span> <span class="id">o</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Red.html#ext_appnf">ext_appnf</a></span> <span class="id">_</span> <span class="id">o</span> =&gt; <span class="id"><a href="Pretty.html#get_out_abort">get_out_abort</a></span> <span class="id">o</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Red.html#ext_switch">ext_switch</a></span> <span class="id">o</span> <span class="id">_</span> =&gt; <span class="id"><a href="Pretty.html#get_out_abort">get_out_abort</a></span> <span class="id">o</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Red.html#ext_switchnf">ext_switchnf</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">o</span> <span class="id">_</span> =&gt; <span class="kwd">match</span> <span class="id">o</span> <span class="kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">_</span>, <span class="id">o</span>) =&gt; <span class="id"><a href="Pretty.html#get_out_abort">get_out_abort</a></span> <span class="id">o</span> | <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Red.html#extd_abs">extd_abs</a></span> <span class="id">o</span> =&gt; <span class="id"><a href="Pretty.html#get_out_abort">get_out_abort</a></span> <span class="id">o</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Red.html#extd_constr">extd_constr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">o</span> <span class="id">_</span> =&gt; <span class="kwd">match</span> <span class="id">o</span> <span class="kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">o</span> =&gt; <span class="id"><a href="Pretty.html#get_out_abort">get_out_abort</a></span> <span class="id">o</span> | <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="red_">red_</a></span> (<span class="id">rec</span> : <span class="kwd">forall</span> <span class="id">df</span>, <span class="id"><a href="Red.html#ext">ext</a></span> <span class="id">df</span> -&gt; <span class="id"><a href="Pretty.html#out">out</a></span> (<span class="id"><a href="Red.html#val">val</a></span> <span class="id">df</span>) -&gt; <span class="kwd">Prop</span>) : <span class="kwd">forall</span> <span class="id">df</span>, <span class="id"><a href="Red.html#ext">ext</a></span> <span class="id">df</span> -&gt; <span class="id"><a href="Pretty.html#out">out</a></span> (<span class="id"><a href="Red.html#val">val</a></span> <span class="id">df</span>) -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="red_var">red_var</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> (<span class="id"><a href="STerm.html#var">var</a></span> <span class="id">n</span>)) (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#val_nf">val_nf</a></span> (<span class="id"><a href="Red.html#nvar">nvar</a></span> <span class="id">n</span>))) <span class="docright">(* Free variables reduce to themselves  *)</span><br/>
| <span class="id"><a name="red_abs_shallow">red_abs_shallow</a></span> : <span class="kwd">forall</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id"><a href="Misc.html#shallow">shallow</a></span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> (<span class="id"><a href="STerm.html#abs">abs</a></span> <span class="id">t</span>)) (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#vals_abs">vals_abs</a></span> <span class="id">t</span>)) <span class="docright">(* Do not look under abstractions  *)</span><br/>
| <span class="id"><a name="red_abs_deep">red_abs_deep</a></span> : <span class="kwd">forall</span> <span class="id">t</span> <span class="id">o1</span> <span class="id">o2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> <span class="id">t</span>) <span class="id">o1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#extd_abs">extd_abs</a></span> <span class="id">o1</span>) <span class="id">o2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> (<span class="id"><a href="STerm.html#abs">abs</a></span> <span class="id">t</span>)) <span class="id">o2</span><br/>
| <span class="id"><a name="red_abs1">red_abs1</a></span> : <span class="kwd">forall</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#extd_abs">extd_abs</a></span> (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#vald_nf">vald_nf</a></span> <span class="id">v</span>))) (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#vald_nf">vald_nf</a></span> (<span class="id"><a href="Red.html#nlam">nlam</a></span> <span class="id">v</span>)))<br/>
| <span class="id"><a name="red_app">red_app</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">t1</span> <span class="id">o1</span> <span class="id">t2</span> <span class="id">o2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id"><a href="Misc.html#shallow">shallow</a></span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> <span class="id">t1</span>) <span class="id">o1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_app">ext_app</a></span> <span class="id">o1</span> <span class="id">t2</span>) <span class="id">o2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> (<span class="id"><a href="STerm.html#app">app</a></span> <span class="id">t1</span> <span class="id">t2</span>)) <span class="id">o2</span><br/>
| <span class="id"><a name="red_app1_nf">red_app1_nf</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">v</span> <span class="id">o1</span> <span class="id">t2</span> <span class="id">o2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> <span class="id">t2</span>) <span class="id">o1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_appnf">ext_appnf</a></span> <span class="id">v</span> <span class="id">o1</span>) <span class="id">o2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_app">ext_app</a></span> (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#vals_nf">vals_nf</a></span> <span class="id">v</span>)) <span class="id">t2</span>) <span class="id">o2</span><br/>
| <span class="id"><a name="red_app1_abs">red_app1_abs</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">t1</span> <span class="id">t2</span> <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> (<span class="id"><a href="STerm.html#subst1">subst1</a></span> <span class="id">t2</span> <span class="id">t1</span>)) <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_app">ext_app</a></span> (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#vals_abs">vals_abs</a></span> <span class="id">t1</span>)) <span class="id">t2</span>) <span class="id">o</span><br/>
| <span class="id"><a name="red_appnf">red_appnf</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">v1</span> <span class="id">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_appnf">ext_appnf</a></span> <span class="id">v1</span> (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#vald_nf">vald_nf</a></span> <span class="id">v2</span>))) (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#val_nf">val_nf</a></span> (<span class="id"><a href="Red.html#napp">napp</a></span> <span class="id">v1</span> <span class="id">v2</span>)))<br/>
| <span class="id"><a name="red_constr_shallow">red_constr_shallow</a></span> : <span class="kwd">forall</span> <span class="id">tag</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id"><a href="Misc.html#shallow">shallow</a></span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> (<span class="id"><a href="STerm.html#constr">constr</a></span> <span class="id">tag</span> <span class="id">l</span>)) (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#vals_constr">vals_constr</a></span> <span class="id">tag</span> <span class="id">l</span>))<br/>
| <span class="id"><a name="red_constr_deep">red_constr_deep</a></span> : <span class="kwd">forall</span> <span class="id">tag</span> <span class="id">l</span> <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#extd_constr">extd_constr</a></span> <span class="id">tag</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">l</span>) <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> (<span class="id"><a href="STerm.html#constr">constr</a></span> <span class="id">tag</span> <span class="id">l</span>)) <span class="id">o</span><br/>
| <span class="id"><a name="red_constr1_done">red_constr1_done</a></span> : <span class="kwd">forall</span> <span class="id">tag</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#extd_constr">extd_constr</a></span> <span class="id">tag</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#vald_nf">vald_nf</a></span> (<span class="id"><a href="Red.html#nconstr">nconstr</a></span> <span class="id">tag</span> <span class="id">l</span>)))<br/>
| <span class="id"><a name="red_constr1_step1">red_constr1_step1</a></span> : <span class="kwd">forall</span> <span class="id">tag</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">t</span> <span class="id">o1</span> <span class="id">o2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> <span class="id">t</span>) <span class="id">o1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#extd_constr">extd_constr</a></span> <span class="id">tag</span> <span class="id">l1</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">o1</span>) <span class="id">l2</span>) <span class="id">o2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#extd_constr">extd_constr</a></span> <span class="id">tag</span> <span class="id">l1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id">t</span> :: <span class="id">l2</span>)) <span class="id">o2</span><br/>
| <span class="id"><a name="red_constr1_step2">red_constr1_step2</a></span> : <span class="kwd">forall</span> <span class="id">tag</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">v</span> <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#extd_constr">extd_constr</a></span> <span class="id">tag</span> (<span class="id">l1</span> ++ <span class="id">v</span> :: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">l2</span>) <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#extd_constr">extd_constr</a></span> <span class="id">tag</span> <span class="id">l1</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#vald_nf">vald_nf</a></span> <span class="id">v</span>))) <span class="id">l2</span>) <span class="id">o</span><br/>
| <span class="id"><a name="red_switch">red_switch</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">t</span> <span class="id">o1</span> <span class="id">m</span> <span class="id">o2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id"><a href="Misc.html#shallow">shallow</a></span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> <span class="id">t</span>) <span class="id">o1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_switch">ext_switch</a></span> <span class="id">o1</span> <span class="id">m</span>) <span class="id">o2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> (<span class="id"><a href="STerm.html#switch">switch</a></span> <span class="id">t</span> <span class="id">m</span>)) <span class="id">o2</span><br/>
| <span class="id"><a name="red_switch1_constr">red_switch1_constr</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">tag</span> <span class="id">l</span> <span class="id">m</span> <span class="id">t</span> <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#nth_error">nth_error</a></span> <span class="id">m</span> <span class="id">tag</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id">l</span>, <span class="id">t</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> (<span class="id"><a href="STerm.html#subst">subst</a></span> (<span class="id"><a href="STerm.html#read_env">read_env</a></span> <span class="id">l</span>) <span class="id">t</span>)) <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_switch">ext_switch</a></span> (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#vals_constr">vals_constr</a></span> <span class="id">tag</span> <span class="id">l</span>)) <span class="id">m</span>) <span class="id">o</span><br/>
| <span class="id"><a name="red_switch1_nf">red_switch1_nf</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">v</span> <span class="id">m</span> <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_switchnf">ext_switchnf</a></span> <span class="id">v</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">m</span>) <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_switch">ext_switch</a></span> (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#vals_nf">vals_nf</a></span> <span class="id">v</span>)) <span class="id">m</span>) <span class="id">o</span><br/>
| <span class="id"><a name="red_switchnf_done">red_switchnf_done</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">v</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_switchnf">ext_switchnf</a></span> <span class="id">v</span> <span class="id">m</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#val_nf">val_nf</a></span> (<span class="id"><a href="Red.html#nswitch">nswitch</a></span> <span class="id">v</span> <span class="id">m</span>)))<br/>
| <span class="id"><a name="red_switchnf_step1">red_switchnf_step1</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">v</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">p</span> <span class="id">t</span> <span class="id">o1</span> <span class="id">o2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id"><a href="Misc.html#deep">deep</a></span> (<span class="id"><a href="Red.html#ext_term">ext_term</a></span> <span class="id">t</span>) <span class="id">o1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_switchnf">ext_switchnf</a></span> <span class="id">v</span> <span class="id">m1</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">p</span>, <span class="id">o1</span>)) <span class="id">m2</span>) <span class="id">o2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_switchnf">ext_switchnf</a></span> <span class="id">v</span> <span class="id">m1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> ((<span class="id">p</span>, <span class="id">t</span>) :: <span class="id">m2</span>)) <span class="id">o2</span><br/>
| <span class="id"><a name="red_switchnf_step2">red_switchnf_step2</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">p</span> <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_switchnf">ext_switchnf</a></span> <span class="id">v1</span> (<span class="id">m1</span> ++ (<span class="id">p</span>, <span class="id">v2</span>) :: <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">m2</span>) <span class="id">o</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_</span> <span class="id">rec</span> <span class="id">df</span> (<span class="id"><a href="Red.html#ext_switchnf">ext_switchnf</a></span> <span class="id">v1</span> <span class="id">m1</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">p</span>, <span class="id"><a href="Pretty.html#out_ret">out_ret</a></span> (<span class="id"><a href="Red.html#vald_nf">vald_nf</a></span> <span class="id">v2</span>))) <span class="id">m2</span>) <span class="id">o</span><br/>
| <span class="id"><a name="red_abort">red_abort</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">e</span> <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Red.html#get_abort">get_abort</a></span> <span class="id">e</span> = <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">o</span> -&gt; <span class="id">red_</span> <span class="id">rec</span> <span class="id">df</span> <span class="id">e</span> <span class="id">o</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="red">red</a></span> : <span class="kwd">forall</span> <span class="id">df</span>, <span class="id"><a href="Red.html#ext">ext</a></span> <span class="id">df</span> -&gt; <span class="id"><a href="Pretty.html#out">out</a></span> (<span class="id"><a href="Red.html#val">val</a></span> <span class="id">df</span>) -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="mkred">mkred</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">e</span> <span class="id">o</span>, <span class="id"><a href="Red.html#red_">red_</a></span> <span class="id">red</span> <span class="id">df</span> <span class="id">e</span> <span class="id">o</span> -&gt; <span class="id">red</span> <span class="id">df</span> <span class="id">e</span> <span class="id">o</span>.<br/>
<br/>
<span class="kwd">CoInductive</span> <span class="id"><a name="cored">cored</a></span> : <span class="kwd">forall</span> <span class="id">df</span>, <span class="id"><a href="Red.html#ext">ext</a></span> <span class="id">df</span> -&gt; <span class="id"><a href="Pretty.html#out">out</a></span> (<span class="id"><a href="Red.html#val">val</a></span> <span class="id">df</span>) -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="mkcored">mkcored</a></span> : <span class="kwd">forall</span> <span class="id">df</span> <span class="id">e</span> <span class="id">o</span>, <span class="id"><a href="Red.html#red_">red_</a></span> <span class="id">cored</span> <span class="id">df</span> <span class="id">e</span> <span class="id">o</span> -&gt; <span class="id">cored</span> <span class="id">df</span> <span class="id">e</span> <span class="id">o</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="red_ind3">red_ind3</a></span> : <span class="id"><a href="Inductive.html#is_ind3">is_ind3</a></span> <span class="id"><a href="Red.html#red_">red_</a></span> <span class="id"><a href="Red.html#red">red</a></span>.<br/>
<details><summary>Proof.</summary>
 <span class="id">prove_ind3</span>. Qed.</details>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="red_not_div_preserved_down">red_not_div_preserved_down</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="Inductive.html#preserved_down3">preserved_down3</a></span> <span class="id"><a href="Red.html#red_">red_</a></span> <span class="id"><a href="Red.html#red">red</a></span> (<span class="kwd">fun</span> <span class="id">df</span> <span class="id">e</span> <span class="id">o</span> =&gt; <span class="id">o</span> &lt;&gt; <span class="id"><a href="Pretty.html#out_div">out_div</a></span>).<br/>
<details><summary>Proof.</summary>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">df</span> <span class="id">e</span> <span class="id">o</span> <span class="id">Q</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">H1</span>; <span class="id">unexistT</span>; <span class="id">subst</span>; <span class="id">unexistT</span>; <span class="id">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> (<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> [ <span class="id">H</span> : ?<span class="id">A</span> /\ <span class="id">Q</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="id">destruct</span> <span class="id">H</span> <span class="kwd">end</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> (<span class="id">econstructor</span>; (<span class="id">eassumption</span> || <span class="id">tauto</span>)).<br/>
&nbsp;&nbsp;- <span class="id">econstructor</span>; <span class="id">splits</span> 3; <span class="id">try</span> <span class="id">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> -&gt;. <span class="id">apply</span> (<span class="id"><a href="Inductive.html#ind3_inv">ind3_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Red.html#red_ind3">red_ind3</a></span>) <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inversion</span> <span class="id">H0</span>; <span class="id">unexistT</span>; <span class="id">subst</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">autoinjSome</span>; <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econstructor</span>; <span class="id">splits</span> 3; <span class="id">try</span> <span class="id">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> -&gt;. <span class="id">apply</span> (<span class="id"><a href="Inductive.html#ind3_inv">ind3_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Red.html#red_ind3">red_ind3</a></span>) <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inversion</span> <span class="id">H</span>; <span class="id">unexistT</span>; <span class="id">subst</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">autoinjSome</span>; <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econstructor</span>; <span class="id">splits</span> 3; <span class="id">try</span> <span class="id">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> -&gt;. <span class="id">apply</span> (<span class="id"><a href="Inductive.html#ind3_inv">ind3_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Red.html#red_ind3">red_ind3</a></span>) <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inversion</span> <span class="id">H</span>; <span class="id">unexistT</span>; <span class="id">subst</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">autoinjSome</span>; <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econstructor</span>; <span class="id">splits</span> 3; <span class="id">try</span> <span class="id">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> -&gt;. <span class="id">apply</span> (<span class="id"><a href="Inductive.html#ind3_inv">ind3_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Red.html#red_ind3">red_ind3</a></span>) <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inversion</span> <span class="id">H0</span>; <span class="id">unexistT</span>; <span class="id">subst</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">autoinjSome</span>; <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econstructor</span>; <span class="id">splits</span> 3; <span class="id">try</span> <span class="id">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> -&gt;. <span class="id">apply</span> (<span class="id"><a href="Inductive.html#ind3_inv">ind3_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Red.html#red_ind3">red_ind3</a></span>) <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inversion</span> <span class="id">H</span>; <span class="id">unexistT</span>; <span class="id">subst</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">autoinjSome</span>; <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econstructor</span>; <span class="id">splits</span> 3; <span class="id">try</span> <span class="id">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> -&gt;. <span class="id">apply</span> (<span class="id"><a href="Inductive.html#ind3_inv">ind3_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Red.html#red_ind3">red_ind3</a></span>) <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inversion</span> <span class="id">H</span>; <span class="id">unexistT</span>; <span class="id">subst</span>; <span class="id">simpl</span> <span class="kwd">in</span> *; <span class="id">autoinjSome</span>; <span class="id">tauto</span>.<br/>
Qed.</details>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
